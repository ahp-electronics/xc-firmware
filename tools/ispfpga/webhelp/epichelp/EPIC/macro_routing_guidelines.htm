<!DOCTYPE html ><html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>Macro Routing Guidelines</title><link rel="Prev" href="routing_and_unrouting_macros_in_design_mode.htm" title="Previous" /><link rel="Next" href="external_pins_in_design_mode.htm" title="Next" /><link rel="StyleSheet" href="css/epic.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/epic_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if (window === window.top) {
        // Redirect
        //
        redirect_url = "../index.htm#page/EPIC/macro_routing_guidelines.htm";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="pN_002bE_002fv0IYKsAbcR1OCxMcYRg" class="ww_skin_page_body" style="background-color: White; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px" onload="Page.OnLoad('../index.htm#page/EPIC/macro_routing_guidelines.htm');"><header id="wwconnect_header"><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a></div><div class="ww_skin_breadcrumbs"><span class="ww_skin_breadcrumbs_parent"><a href="../EPIC/about_epic.htm#wwconnect_header">EPIC Device Editor</a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_parent"><a href="../EPIC/macro_operations_in_design_mode.htm#wwconnect_header">Working with Macros in Design Mode</a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_current">Macro Routing Guidelines</span></div></header><h3 id="ww1176266" class="Heading2"><span></span>Macro Routing Guidelines</h3><p id="ww1176267" class="BodyAfterHead"><span></span>EPIC supports the use of macros of any size, with any amount of routing in a design. This improved macro support provides more power and flexibility, but you should adhere to the following guidelines when using routing in a macro:</p><div id="ww1176269" class="Bulleted"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="square.png" alt="*" border="0" width="7" height="7" /></span></span>In general, it is <span style="font-style: italic">not</span> preferable to route the connections in macro library files. The reason for this is that the routing in the macro requires extra processing during the placement stage of a design, which can add considerably to the amount of time required for placement and routing. </div><div id="ww1397207" class="Indented">However, it <span style="font-style: italic">does</span> make sense to include routing in the macro library file when the nets have critical timing.</div><div id="ww1176270" class="Indented">If any nets in the macro have specific timing requirements—especially nets that have been hand-routed to meet tight delay constraints—these are good candidate nets to be routed in the macro definition file. The design into which the macro is eventually instantiated will then have the same fast routing for these nets. Other nets in the macro that have less stringent timing demands should be left unrouted in the macro library file.</div><div id="ww1176271" class="Indented">If you route nets in the macro library file, the macro instance should be located using the LOCATE preference. Since a located macro will remain untouched by the placer during place and route, it will not incur any of the extra processing that a non-located, routed macro does during placement.</div><div id="ww1176272" class="Bulleted"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="square.png" alt="*" border="0" width="7" height="7" /></span></span>In general, do not route clock nets or 3-state nets that are external nets in the macro library file. Such nets must be integrated into the overall structure of the design, and pre-routing the nets in the macro library file prohibits the nets from being routed efficiently in the design in which the macro is instantiated. If it is necessary to create a macro library file that contains many routed nets, build the macro in the same device and at the same location where it is to be used. This is especially important when the macro library file is very large, contains route-throughs in SLICs, or contains I/O cells.</div><div id="ww1533534" class="Bulleted"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="square.png" alt="*" border="0" width="7" height="7" /></span></span>There are several situations in which a routed macro instance might not be legally placed at a given location in a device, even though the required sites for the macro components are available: </div><div id="ww1533535" class="BulletedIndented"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="bullet2nd.png" alt="*" border="0" width="7" height="7" /></span></span>A wire required by the macro routing is already used by another net in the design. </div><div id="ww1533531" class="BulletedIndented"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="bullet2nd.png" alt="*" border="0" width="7" height="7" /></span></span>The routing in the macro might use connections between wires that do not exist in another area of the device. A macro instance with routing can only be placed in a location where the connection pattern between wires is identical to the connection pattern used in the macro library file. </div><div id="ww1176276" class="BulletedIndented"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="bullet2nd.png" alt="*" border="0" width="7" height="7" /></span></span>An instance of a macro that includes routing between I/O cells and internal logic blocks can only be placed with the I/O cells along the same edge of the device as they were placed in the macro library file. Attempting to hand-place a macro instance in a location that would violate any of these rules will cause an error to be generated in EPIC, and the macro instance will not be placed.</div><p id="ww1176277" class="Body"><span></span>Summary guidelines for using hard macros:</p><div id="ww1176278" class="Bulleted"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="square.png" alt="*" border="0" width="7" height="7" /></span></span>Avoid routing nets in macro library files unless the timing for the nets requires it.</div><div id="ww1176279" class="Bulleted"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="square.png" alt="*" border="0" width="7" height="7" /></span></span>When routing nets in macro library files, locate the macro instances with LOCATE preferences that are known to be valid locations for the macro.</div><div id="ww1176280" class="Bulleted"><span class="WebWorks_Number" style="width: 16.56pt"><span><img src="square.png" alt="*" border="0" width="7" height="7" /></span></span>If the macro uses SLIC route-throughs, make sure that the SLIC location(s) used by the route-through remain unused by the top-level circuit by using the PROHIBIT preference in PAR.</div><footer><!-- Related Topics --><!--                --><!-- Back to Top --><!--             --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><div class="ww_skin_page_globalization"><div id="google_translate_element">&nbsp;</div><script><!--
            function googleTranslateElementInit() {
              new google.translate.TranslateElement({
                  pageLanguage: '',
                  autoDisplay: true
                }, 'google_translate_element');
            }
// --></script></div><br /><!-- Company Info --><!-- Moved from skin's header. See target Connect.asp. --><div class="ww_skin_company_phone">© Lattice Semiconductor Corporation 2018</div><div class="ww_skin_company_name">Lattice EPIC</div></footer></body></html>